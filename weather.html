<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>天气查询</title>
	<script type="text/javascript">
		window.onload = function() {
			function createXHR(){
	            var xhr = null;
	            if(window.XMLHttpRequest){
	                xhr = new XMLHttpRequest();
	            }else if(window.ActiveXObject){
	                xhr = new ActiveXObject("Microsoft.XMLHTTP");
	            }
	            return xhr;
	        }

	        function getWea(){
	            var xhr = createXHR();
	            xhr.open('GET','https://tianqiapi.com/free/day?appid=48353766&appsecret=VjZ4oxd5',true);
	            xhr.onreadystatechange = function(){
	                if(this.readyState == 4){
	                	var data = JSON.parse(this.responseText)
	                	var info = 	'<li>天气：'+data.wea+'</li>'+
								'<li>当前气温：'+data.tem+'&#8451;</li>'+
								'<li>最高气温：'+data.tem_day+'&#8451;</li>'+
								'<li>最低气温：'+data.tem_night+'&#8451;</li>'+
								'<li>更新时间：'+data.update_time+'</li>';
	                   document.getElementById('list').innerHTML = info
	                   document.getElementById('weaTitle').innerHTML = data.city + '当前天气'
	                }
	            }
	            xhr.send(null);
	        }

	        getWea()
		}
	</script>
	<style type="text/css">
		#container{
			width: 400px;
			min-height: 300px;
			/*background-color: lightyellow;*/
			margin: auto;
			padding: 10px;
			text-align: center;
		}
		ul{
			list-style: none;
			line-height: 32px;
			text-align: left;
		}
	</style>
</head>
<body>
	<div id="container">
		<!-- <select id="city">
			<option value="101010100">北京</option>
			<option value="101020100">上海</option>
			<option value="101280101">广州</option>
			<option value="101280601">深圳</option>
		</select> -->
		<!-- input type="text" name="city" id="city">
		<input type="button" value="查询" id="btn"> -->
		<p id="weaTitle">当前天气</p>
		<ul id="list"></ul>

	</div>
</body>
</html>